<% provide(:title, "Edit #{@resource.name}") %>

<ol class="breadcrumb">
  <% if current_user.is_admin? %>
      <li><%= link_to 'Institutions', institutions_path %></li>
  <% end %>
  <li>
    <%= link_to @resource.location.repository.institution.name,
                polymorphic_path(@resource.location.repository.institution) %>
  </li>
  <li>
    <%= link_to @resource.location.repository.name,
                polymorphic_path(@resource.location.repository) %>
  </li>
  <li>
    <%= link_to @resource.location.name,
                polymorphic_path(@resource.location) %>
  </li>
  <li><%= link_to @resource.name, polymorphic_path(@resource) %></li>
  <li class="active">Edit</li>
</ol>

<h1>Edit <%= @resource.name %></h1>

<%= form_for(@resource) do |f| %>
    <%= render 'shared/error_messages', :object => f.object %>

    <div class="form-group">
      <%= f.label :name %>
      <%= f.text_field :name, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= f.label :resource_type %>
      <%= select('resource', 'resource_type',
                 options_for_select([['Collection', ResourceType::COLLECTION],
                                     ['Item', ResourceType::ITEM]],
                                    @resource.resource_type),
                 { include_blank: true },
                 { class: 'form-control' }) %>
    </div>

    <div class="form-group">
      <%= f.label :format %>
      <%= f.collection_select :format_id, Format.all, :id, :name,
                              { include_blank: false },
                              { class: 'form-control' } %>
    </div>

    <%= f.submit 'Save Changes', class: 'btn btn-primary' %>

<% end %>
