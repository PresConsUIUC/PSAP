/* Twitter Bootstrap is the foundation of the style. */
@import "bootstrap";

@mixin image-2x($image, $width, $height) {
  @media (min--moz-device-pixel-ratio: 1.3),
  (-o-min-device-pixel-ratio: 2.6/2),
  (-webkit-min-device-pixel-ratio: 1.3),
  (min-device-pixel-ratio: 1.3),
  (min-resolution: 1.3dppx) {
    /* on retina, use image that's scaled by 2 */
    background-image: url($image);
    background-size: $width $height;
  }
}

/* universal */

html {
  overflow-y: scroll;
}

body {
  font-family:Calibri, sans-serif;
  padding-top:50px;
}

section {
  overflow: auto;
}

textarea {
  resize: vertical;
}

a:focus {
  outline: 0;
}

.center {
  text-align: center;
}

h1 { font-size:2em; margin:0em 0em 0.5em 0em }
h2 { font-size:1.66em; margin:0em 0em 1em 0em  }
h3 { font-size:1.33em }
h4 { font-size:1em }
h5 { font-size:0.9em }
h6 { font-size:0.8em }

table caption {
  color:$gray;
  font-weight:700;
  margin-top:1em;
  text-align:left;
  font-size:1.1em;
}

dl {
  dd {
    margin:0em 0em 0.5em 1em;
  }
}

div.tab-content {
  padding-top:1em;
}

div#modal_progress_view {
  background-color:rgba(0, 0, 0, 0.5);
  display:none;
  position:absolute;
  height:100%;
  width:100%;
  z-index:9999;
  img {
    background-color:white;
    display:block;
    height:104px;
    width:104px;
    margin:0 auto;
    margin-top:200px;
    padding:20px;
  }
}

.current.asc:before {
  content:'\25b2\0020';
}

.current.desc:before {
  content:'\25bc\0020';
}

.gravatar {
  margin-right:0.5em;
}


/* top nav bar */

nav.navbar {
  background-color:rgba(0, 0, 0, 0.8);

  .navbar-left {
    a {
      font-size:0.8em;
      letter-spacing:1.2px;
    }
  }

  li#help {
    margin-right:10px;
    /* The help icon looks weird when the navbar collapses on narrow screens. */
    @media screen and (min-width: 500px) {
      a {
        background: url(image_path('question-24.png')) center center no-repeat;
        @include image-2x('question-24@2x.png', 24px, 24px);
        content:url(image_path('1x1transparent.png'));
        top:11px;
        width:24px;
        height:24px;
        text-indent:-9999px;
      }
      a:hover {
        background: url(image_path('question-white-24.png')) center center no-repeat;
        @include image-2x('question-white-24@2x.png', 24px, 24px);
      }
    }
  }
}

/* header */

header {
  border-bottom:1px solid $gray-lighter;
  height:90px;
  margin:0px 0px 20px 0px;
  padding:0px;
  @media print {
    display:none;
  }
  h1 {
    margin-bottom:0.4em;
  }
  h1 a, h1 a:hover {
    color:black;
    font-weight:normal;
    margin:0em;
    text-decoration:none;
  }
  h1 small a, h1 small a:hover {
    color:#808080;
    font-size:0.9em;
    font-style:italic;
    font-weight:200;
  }
  img#title_logo {
    float:left;
    margin-right:1em;
  }
  div.btn-group {
    margin:0px;
  }
}

div.btn-group {
  @media print {
    display:none;
  }
}


/* two-column views w/ menu on left */

div.entity_menu {
  margin-top:1em;
  li {
    background:url(image_path('arrow-right-16.png')) 95% 50% no-repeat;
    @include image-2x('arrow-right-16@2x.png', 16px, 16px);
    line-height:60px;
    height:80px;
    padding:0px;
    a {
      height:100%;
      padding:0.75em 0em 0em 1em;
      position:absolute;
      width:100%;
    }
    a:hover {
      text-decoration:none;
    }
  }
  li.active {
    background-color:#f0f0ff;
  }
  section p {
    color:$gray-light;
    font-size:0.9em;
  }
}

.form_view {
  display:none;
  margin-top:1em;
}

/* search field that appears above data tables */
form.entity_search {
  input {
    display:inline;
    margin:0em 0em 1em 0em;
    width:120px;
  }
  input.active {
    background:#FFFFFF url(image_path('progress-indicator-16.gif')) no-repeat 96px 8px;
    @include image-2x('progress-indicator-16@2x.gif', 16px, 16px);
  }
}


/* main page */

div#main_panel {
  margin:0 auto;
  text-align:center;
  width:50%;
  p {
    margin-top:3em;
  }
  p:first-child {
    margin-top:0em;
  }
}


/* forms */

div.progress {
  height:10px;
  margin-top:0.5em;
}

div.signin_form {
  margin:0 auto;
  width:30%;
}

div#gravatar {
  margin:0em 0em 1em 0em;
}

section#basic_info, section#preferences, section#change_password {
  width:30%;
}

#error_explanation {
  color: #f00;
  ul {
    margin: 0 0 18px 18px;
  }
}

.field_with_errors {
  @extend .control-group;
  @extend .error;
}


/* footer */

footer {
  margin-top: 45px;
  padding-top: 5px;
  border-top: 1px solid #eaeaea;
  color: #999;
  @media print {
    display:none;
  }
}

footer a {
  color: #555;
}

footer a:hover {
  color: #222;
}

footer small {
  float: left;
}

footer ul {
  float: right;
  list-style: none;
}

footer ul li {
  float: left;
  margin-left: 10px;
}


/* assessment report */

div#assessment_report {
  @media print {
    h1 {
      text-align:center;
    }
    section {
      border:1px solid black;
      margin-bottom:1em;
      padding:1em;
      h2 {
        font-size:1.3em;
        margin-top:0px;
        padding-top:0px;
      }
      h3 {
        font-size:1.15em;
      }
      h4 {
        text-align:right;
      }
    }
  }
  @media screen {
    section#material_condition_overview {
      ul {
        margin-left:1em;
        padding-left:0px;
      }
      table {
        background-color:#d0e0ff;
        width:200px;
        td:first-child {
          text-align:right;
          width:30%;
        }
        td {
          padding:0.1em 0.4em 0.1em 0.4em;
        }
      }
    }
  }
}


/* mixins, variables, etc. */

@mixin box_sizing {
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}

/* miscellaneous */

.debug_dump {
  clear: both;
  float: left;
  width: 100%;
  margin-top: 45px;
  @include box_sizing;
}
